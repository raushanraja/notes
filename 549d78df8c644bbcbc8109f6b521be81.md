id: 549d78df8c644bbcbc8109f6b521be81
parent_id: cfaa6d398bb143ef93bc49f33053274b
item_type: 1
item_id: 3fd28d93014d457da6dcfd946cc2bbfc
item_updated_time: 1713719343047
title_diff: "[]"
body_diff: "[{\"diffs\":[[0,\"ts\\\n-\"],[1,\" Closures are anonymous functions that can capture variables from their surrounding environment. \\\n- Rust provides three traits to represent closures based on how they capture variables and how they can be invoked.:\\\n\\t-\"],[0,\" `Fn`,\"],[1,\"\\\n\\t-\"],[0,\" `FnMut`\"],[-1,\", and `FnOnce`  are clouser traits\\\n- These traits are not named\"],[1,\"\\\n\\t-  `FnOnce`\\\n\\\n### 7.1 `Fn`\\\nClosures that implement the `Fn` trait, capture variables from the enclosing scope by immutable reference. This means they can borrow variables from the surrounding environment but cannot modify them.\\\n\\\n### 7.2 `FnMut`\\\nClosures that implement the `FnMut` trait, capture variables from the enclosing scope by mutable reference. This allows them to both borrow and modify variables from the surrounding environment.\\\n\\\n### 7.3`FnOnce`\\\nClosures that implement the `FnOnce` trait, consume variables from the enclosing scope. They take ownership of the captured variables and thus can move them into the closure, preventing further use of those variables in the outer scope.\\\n\\\n### 7.4 Exmple\\\n```rust\\\nfn apply_with_log<F>(func: F, input: i32) -> i32\\\nwhere\\\n    F: FnOnce(i32) -> i32,\\\n{\\\n    println!(\\\"Calling function on {}\\\", input);\\\n    func(input)\\\n}\\\n\\\nfn main() {\\\n    // Example 1: `Fn` closure\\\n    let add_3 = |x| x + 3;\\\n    println!(\\\"add_3: {}\\\", apply_with_log(add_3, 10));\\\n\\\n    // Example 2: `FnMut` closure\\\n    let mut v = Vec::new();\\\n    let mut accumulate = |x: i32| {\\\n        v.push(x);\\\n        v.iter().sum::<i32>()\\\n    };\\\n    println!(\\\"accumulate: {}\\\", apply_with_log(&mut accumulate, 4));\\\n\\\n    // Example 3: `FnOnce` closure\\\n    let multiply_sum = |x| x * v.into_iter().sum::<i32>();\\\n    println!(\\\"multiply_sum: {}\\\", apply_with_log(multiply_sum, 3));\\\n}\\\n```\\\n\\\n- In the `apply_with_log` function, the `F` type parameter represents any closure that takes an `i32` parameter and returns an `i32`. \\\n- The `where F: FnOnce(i32) -> i32` bound ensures that `F` satisfies the `FnOnce` trait.\\\n\\\n- **Example 1**: demonstrates using a closure (`add_3`) that implements the `Fn` trait. It captures variables by immutable reference.\\\n- **Example 2**: demonstrates using a closure (`accumulate`) that implements the `FnMut` trait. It captures variables by mutable reference.\\\n- **Example 3**: demonstrates using a closure (`multiply_sum`) that implements the `FnOnce` trait. It consumes the variables it captures, taking ownership of them\"],[0,\".\\\n\"]],\"start1\":6978,\"start2\":6978,\"length1\":83,\"length2\":2286}]"
metadata_diff: {"new":{},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2024-04-21T17:09:37.616Z
created_time: 2024-04-21T17:09:37.616Z
type_: 13